<?xml version="1.0" encoding="utf-8"?>

<!--

  	MXML Demo 5 - Turtle Command Queue 
		
	@author David Knape

-->

<ui:Application 
	xmlns:fx="http://ns.adobe.com/mxml/2009" 
	xmlns:ui="com.bumpslide.ui.*"
	xmlns:c="commands.*"
	xmlns:asset="*"
	creationComplete="setup()"
	>
	<fx:Script>
		<![CDATA[

			import commands.*;

			import com.bumpslide.ui.behavior.DragBehavior;
			import com.bumpslide.util.ObjectUtil;
											
			private function runCommand( commandClass:Class, params:Object=null ):void {
				var c:ITurtleInstruction = ObjectUtil.create( commandClass, params );
				c.turtle = turtle;
				c.execute();
			}


			private function setup():void
			{
				DragBehavior.init( turtle );
			}
			
		]]>
	</fx:Script>
	
	<asset:TurtleGraphic id="turtle" x="200" y="200" rotation="0" />	
	
	<ui:Container x="20" y="20">
		<ui:Button label="Left" click="runCommand( Turn, { angle: -30 } )" />
		<ui:Button label="Right" click="runCommand( Turn, { angle: 30 }  )" />
		<ui:Button label="Forward" click="runCommand( Forward, { distance: 100 }  )" />
		<ui:Button label="Back" click="runCommand( Forward, { distance: -100 }  )" />
		<ui:Button label="Zig Zag" click="runCommand( ZigZag )" />	
		<ui:Button label="Jump" click="runCommand( Jump )" />	
	</ui:Container>
	
	
</ui:Application>